clear; close all; clc;

%% Define Parameters
num_speeds = 7; % Number of FT sensor speeds
% %This is for the Free_Free_FT_Sensor readings in 0 orientation
% base_path = '/home/sduddu-iit.local/HHCM_LAB/Matlab_Files/FTSensor_Test_Results';
% file_names = { ...
%     'FTSensor0_streamingData_20_12_2024_15_39_30.csv', ...
%     'FTSensor0_streamingData_20_12_2024_15_41_19.csv', ...
%     'FTSensor0_streamingData_20_12_2024_15_52_11.csv', ...
%     'FTSensor0_streamingData_20_12_2024_16_00_42.csv', ...
%     'FTSensor0_streamingData_20_12_2024_16_15_48.csv', ...
%     'FTSensor0_streamingData_20_12_2024_16_25_51.csv', ...
%     'FTSensor0_streamingData_20_12_2024_16_32_30.csv'};




% % These are the reading of the Force Torque Sensor in 9O orientation.
% base_path = '/home/sduddu-iit.local/HHCM_LAB/Matlab_Files/FTSensor_Test_Results';
% file_names = { ...
%     'FTSensor0_streamingData_20_12_2024_17_25_07.csv', ...
%     'FTSensor0_streamingData_20_12_2024_18_04_21.csv', ...
%     'FTSensor0_streamingData_20_12_2024_17_50_19.csv', ...
%     'FTSensor0_streamingData_20_12_2024_17_58_44.csv', ...
%     'FTSensor0_streamingData_20_12_2024_18_13_48.csv', ...
%     'FTSensor0_streamingData_20_12_2024_18_18_27.csv', ...
%     'FTSensor0_streamingData_20_12_2024_18_32_42.csv'};


% % These are the reading of the Force Torque Sensor in 45 orientation.
% base_path = '/home/sduddu-iit.local/HHCM_LAB/Matlab_Files/FTSensor_Test_Results';
% file_names = { ...
%     'FTSensor0_streamingData_20_12_2024_12_21_22.csv', ...
%     'FTSensor0_streamingData_20_12_2024_12_55_20.csv', ...
%     'FTSensor0_streamingData_20_12_2024_12_58_03.csv', ...
%     'FTSensor0_streamingData_20_12_2024_13_02_25.csv', ...
%     'FTSensor0_streamingData_20_12_2024_13_04_44.csv', ...
%     'FTSensor0_streamingData_20_12_2024_13_07_27.csv', ...
%     'FTSensor0_streamingData_20_12_2024_13_13_25.csv'};


% These are the reading of the Force Torque Sensor in 9O orientation (Updated).
base_path = '/home/sduddu-iit.local/HHCM_LAB/Matlab_Files/FTSensor_Test_Results';
file_names = { ...
    'FTSensor0_streamingData_23_12_2024_18_29_01.csv', ...
    'FTSensor0_streamingData_23_12_2024_18_32_49.csv', ...
    'FTSensor0_streamingData_20_12_2024_17_50_19.csv', ...
    'FTSensor0_streamingData_23_12_2024_18_37_20.csv', ...
    'FTSensor0_streamingData_23_12_2024_18_48_14.csv', ...
    'FTSensor0_streamingData_23_12_2024_18_49_38.csv', ...
    'FTSensor0_streamingData_23_12_2024_18_52_13.csv'};


%% Create combined figure with subplots
figure; % Open a new figure window

tiledlayout(7, 1); % 7 rows, 1 column layout


%% Create combined figure with subplots
for i = 1:num_speeds
    % Read and process data (same as before)
    file_path = fullfile(base_path, file_names{i});
    sensor_data = readtable(file_path);
    sensor_t = sensor_data.SampleID;
    sensor_data_matrix = [sensor_data.Fx'; sensor_data.Fy'; sensor_data.Fz'];
    
    
    % Separate figure for inspection
   % New figure for each speed
 
    nexttile;
    plot(sensor_t, sensor_data_matrix', 'LineWidth', 2);
    ylabel("Force [N]");
    xlabel("Time");
    title(['FTSensor Speed ', num2str(i)]);
    legend({'F_x', 'F_y', 'F_z'}, 'Location', 'best');

end
